<!DOCTYPE html>
<html>
  <script src="lib/moment.js"></script>
  <script src="lib/chroma.js"></script>
  <link href="styles/iconfont/material-icons.css" rel="stylesheet"/>
  <link href="styles/styles.css" rel="stylesheet"/>
  
  <head>
    <meta charset="UTF-8">
    <title>MapleStory Reboot Guild Contribution Comparison</title>
  </head>
  
  <body>
    <div class="tab">
      <button class="tabLinks" onclick="openTab(event, 'guildContributionGraphId')">Contribution Graph</button>
      <button class="tabLinks" onclick="openTab(event, 'guildSummaryBlockId')">Summary</button>
      <button class="tabLinks" onclick="openTab(event, 'guildDataTableId')">Data Table</button>
      <button class="tabLinks" onclick="openTab(event, 'guildAboutId')">About</button>
    </div>
    
    <div id="guildContributionGraphId" class="tabContent" style="display: block">
      <div id="guildContributionGraphHtmlWrapper"></div>
    </div>
    
    <div id="guildSummaryBlockId" class="tabContent" style="display: none">
      <div id="guildSummaryBlockHtmlWrapper"></div>
    </div>
    
    <div id="guildDataTableId" class="tabContent" style="display: none">
      <div id="guildDataTableHtmlWrapper"></div>
    </div>
    
    <div id="guildAboutId" class="tabContent" style="display: none">
      <div id="guildAboutHtmlWrapper"></div>
    </div>
  </body>
  
  <script src="scripts/main.js" type="module"></script>
  
  <script>
    let corsInfoMessage = '';
    corsInfoMessage += 'Note: Opening the HTML file locally may give a Cross-Origin Request Blocked warning (and not properly load the webpage):' + '\n';
    corsInfoMessage += '"""' + '\n';
    corsInfoMessage += '  Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at file:///%USERPROFILE%/Desktop/MapleStory-Reboot-Guild-Contribution-Comparison/scripts/main.js. (Reason: CORS request not http).' + '\n';
    corsInfoMessage += '  Module source URI is not allowed in this document: “file:///%USERPROFILE%/Desktop/MapleStory-Reboot-Guild-Contribution-Comparison/scripts/main.js”.' + '\n';
    corsInfoMessage += '"""' + '\n';
    
    corsInfoMessage += '\n';
    
    corsInfoMessage += 'Solution:' + '\n';
    corsInfoMessage += '* Firefox: about:config -> privacy.file_unique_origin = false' + '\n';
    
    corsInfoMessage += '\n';
    
    corsInfoMessage += 'References:' + '\n';
    corsInfoMessage += '* https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp' + '\n';
    corsInfoMessage += '* https://stackoverflow.com/questions/56999411/firefox-68-local-files-now-treated-as-cross-origin-is-there-a-way-to-override' + '\n';
    corsInfoMessage += '* https://stackoverflow.com/questions/57081740/accessing-local-files-with-d3-json-no-longer-working-for-firefox' + '\n';
    
    console.info(corsInfoMessage);
  </script>
  
  <script>
    function openTab(event, tabId)
    {
      let tabContent, tabLinks;
      tabContent = document.getElementsByClassName('tabContent');
      for (let i = 0; i < tabContent.length; i++)
      {
        tabContent[i].style.display = 'none';
      }
      tabLinks = document.getElementsByClassName('tabLinks');
      for (let i = 0; i < tabLinks.length; i++)
      {
        tabLinks[i].className = tabLinks[i].className.replace(' active', '');
      }
      document.getElementById(tabId).style.display = 'block';
      event.currentTarget.className += ' active';
    }
  </script>
</html>
